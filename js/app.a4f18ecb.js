(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"028d":function(t,e,n){},"08e8":function(t,e,n){"use strict";n("d53e")},"0998":function(t,e,n){},1193:function(t,e,n){},1249:function(t,e,n){"use strict";n("2eed")},1669:function(t,e,n){},"1ab3":function(t,e,n){"use strict";n("e343")},2584:function(t,e,n){},"287b":function(t,e,n){"use strict";n("2584")},"29ac":function(t,e,n){},"2bc0":function(t,e,n){"use strict";n("877c")},"2eed":function(t,e,n){},"31cb":function(t,e,n){"use strict";n("1193")},3765:function(t,e,n){},"376c":function(t,e,n){},"39a3":function(t,e,n){"use strict";n("56cc")},5503:function(t,e,n){"use strict";n("fdc2")},"56cc":function(t,e,n){},"64bf":function(t,e,n){"use strict";n("028d")},"6a81":function(t,e,n){},"6e25":function(t,e,n){},"6eff":function(t,e,n){"use strict";n("7810")},"745f":function(t,e,n){"use strict";n("e522")},7757:function(t,e,n){"use strict";n("0998")},7810:function(t,e,n){},"823b":function(t,e,n){"use strict";n("6e25")},"877c":function(t,e,n){},"8fc5":function(t,e,n){"use strict";n("1669")},"99ae":function(t,e,n){},ae51:function(t,e,n){"use strict";n("b3f7")},b3f7:function(t,e,n){},baeb:function(t,e,n){},c80c:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var a=n("5530"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=(n("f9af"),n("2877")),c={},u=Object(o["a"])(c,s,i,!1,null,"0b5300f6",null),l=u.exports,p=n("9483");Object(p["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var d=n("7bb1"),f=n("4c93"),h=n("2f62"),m=n("bc3a"),b=n.n(m),v=n("1da1"),g=(n("96cf"),n("8c4f")),y=(n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"headerButtonContainer"},[n("ActionButton",{attrs:{size:"S",theme:"text","is-inline":!0},on:{click:t.logout}},[t._v(" ログアウト ")]),n("ActionButton",{attrs:{size:"S",theme:"outline","is-inline":!0,to:"/history"}},[t._v(" 記録一覧を見る ")])],1),n("h1",[t._v("体調を記録する")]),n("form",{attrs:{name:"form"}},[n("ul",{staticClass:"conditionList"},[n("li",{staticClass:"conditionItem"},[n("InputNumberField",{attrs:{id:"temperature",name:"temperature",label:"体温",unit:"℃",placeholder:"36.5",required:"","floating-point":"",temperature:"",step:.1,rules:"required"},model:{value:t.inputTemperature,callback:function(e){t.inputTemperature=e},expression:"inputTemperature"}})],1),n("li",{staticClass:"conditionItem"},[n("InputNumberField",{attrs:{id:"spo2",name:"spo2",label:"酸素飽和度(SpO2)",unit:"％",placeholder:"98",required:"",spo2:"","is-number":"",rules:"required"},model:{value:t.inputSpO2,callback:function(e){t.inputSpO2=e},expression:"inputSpO2"}})],1),n("li",{staticClass:"conditionItem"},[n("InputNumberField",{attrs:{id:"pulse",name:"pulse",label:"脈拍",unit:"bpm",placeholder:"80",required:"",pulse:"",value:"inputPulse","is-number":"",rules:"required"},model:{value:t.inputPulse,callback:function(e){t.inputPulse=e},expression:"inputPulse"}})],1)]),n("section",{staticClass:"symptomsSection"},[n("h3",[t._v("該当の症状はありますか？")]),n("ul",{staticClass:"symptomsList"},t._l(t.symptomItems,(function(e,a){return n("li",{key:a,staticClass:"symptomsItem"},[n("ToggleSwitch",{attrs:{name:e.name,label:e.label,value:e.name},on:{input:t.itemSelectControl}})],1)})),0),n("InputTextField",{attrs:{id:"memo",label:"上記以外の体調の変化",name:"memo",placeholder:"例：昨日の20時ごろから咳が止まらない"},model:{value:t.status.symptom.remarks,callback:function(e){t.$set(t.status.symptom,"remarks",e)},expression:"status.symptom.remarks"}})],1),t.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")]):t._e(),n("div",{staticClass:"buttonContainer"},[n("ActionButton",{attrs:{size:"L",theme:t.btnTheme},on:{click:t.submitRecord}},[t._v(" 記録する ")])],1)]),n("FooterButtons")],1)}),O=[],j=n("d4ec"),_=n("bee2"),k=n("262e"),x=n("2caf"),S=(n("8ba4"),n("a9e3"),n("9ab4")),C=n("1b40"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",class:["actionButton","actionButton-"+t.theme,{inline:t.isInline}],style:{fontSize:t.fontSizeMap.get(t.size)},attrs:{to:t.to,type:t.type,disabled:t.isDisabled},on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)},I=[],A=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.fontSizeMap=new Map([["L","24px"],["M","16px"],["S","12px"]]),t}return Object(_["a"])(n,[{key:"tag",get:function(){return this.to?"router-link":"button"}},{key:"isDisabled",get:function(){return"submit"===this.type&&!this.isSubmittable}}]),n}(C["c"]));Object(S["a"])([Object(C["b"])({default:!1})],A.prototype,"isInline",void 0),Object(S["a"])([Object(C["b"])({default:"primary"})],A.prototype,"theme",void 0),Object(S["a"])([Object(C["b"])({default:"L"})],A.prototype,"size",void 0),Object(S["a"])([Object(C["b"])({default:""})],A.prototype,"to",void 0),Object(S["a"])([Object(C["b"])({default:!1})],A.prototype,"isSubmittable",void 0),Object(S["a"])([Object(C["b"])({default:"button"})],A.prototype,"type",void 0),A=Object(S["a"])([C["a"]],A);var T=A,B=T,P=(n("64bf"),Object(o["a"])(B,w,I,!1,null,"331bc1fc",null)),L=P.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("validation-provider",{attrs:{name:t.name,rules:t.rules,tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[n("div",{staticClass:"inputFieldContainer"},[n("label",{staticClass:"labelText",attrs:{for:t.id}},[t._v(t._s(t.label))]),n("VInputField",{attrs:{id:t.id,type:t.type,name:t.name,placeholder:t.placeholder,value:t.value,"font-size":"S",autocomplete:t.autocomplete},on:{input:function(e){return t.$emit("input",e.target.value)}}})],1),n("span",{staticClass:"error"},[t._v(t._s(e.errors[0]))])])}}])})},$=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputFieldOuter"},[n("div",{staticClass:"inputFieldControl"},[n("input",{staticClass:"inputField",class:{"inputField-error":t.showError},style:{fontSize:t.fontSizeMap.get(t.fontSize)},attrs:{id:t.id,type:t.type,pattern:"number"===t.type?"\\d*":null,name:t.name,placeholder:t.placeholder,step:t.step,autocomplete:t.autocomplete},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e)}}}),n("span",{staticClass:"message"},[t._v(t._s(t.errorMessage))])]),t.unit?n("span",{staticClass:"unit"},[t._v(t._s(t.unit))]):t._e()])},M=[],R=(n("466d"),n("ac1f"),n("7db0"),n("b64b"),r["a"].extend({props:{id:{type:String,default:""},value:{type:String,default:""},type:{type:String,default:"text"},name:{type:String,default:""},placeholder:{type:String,default:""},step:{type:Number,default:0},required:{type:Boolean,default:!1},spo2:{type:Boolean,default:!1},floatingPoint:{type:Boolean,default:!1},temperature:{type:Boolean,default:!1},pulse:{type:Boolean,default:!1},isNumber:{type:Boolean,default:!1},fontSize:{type:String,default:"M"},autocomplete:{type:String,default:"on"},unit:{type:String,default:""}},watch:{rules:function(){this.showError=this.hasErrors},value:function(){this.$emit("validate",!this.hasErrors)}},data:function(){return{showError:!1,fontSizeMap:new Map([["M","20px"],["S","16px"]])}},computed:{rules:function(){return{required:{isValid:this.ruleRequired,message:"必須項目です"},floatingPoint:{isValid:this.ruleFloatingPoint,message:"小数点まで入力してください"},spo2:{isValid:this.ruleSpo2,message:"50から100までの整数で入力してください"},temperature:{isValid:this.ruleTemperature,message:"33度から45度までで入力してください"},pulse:{isValid:this.rulePulse,message:"50から400までの整数で入力してください"},isNumber:{isValid:this.ruleIsNumber,message:"負数でない整数を入力してください"}}},ruleRequired:function(){return!this.required||Boolean(this.value)},ruleFloatingPoint:function(){return!this.floatingPoint||null!=this.value.match(/\d+\.\d/)},ruleSpo2:function(){return!this.spo2||null==this.value.match(/[^\d]/)&&(parseInt(this.value)>=50&&parseInt(this.value)<=100)},ruleTemperature:function(){return!this.temperature||null==this.value.match(/[^\d.]/)&&(parseFloat(this.value)>=33&&parseFloat(this.value)<=45)},rulePulse:function(){return!this.pulse||null==this.value.match(/[^\d]/)&&(parseInt(this.value)>=50&&parseInt(this.value)<=400)},ruleIsNumber:function(){return!this.isNumber||null!=this.value.match(/^\d+$/)},errorMessage:function(){var t=this;if(!this.showError)return"";var e=Object.keys(this.rules).find((function(e){return!t.rules[e].isValid}));return e?this.rules[e].message:""},hasErrors:function(){var t=this;return Object.keys(this.rules).some((function(e){return!t.rules[e].isValid}))}}})),z=R,N=(n("39a3"),Object(o["a"])(z,F,M,!1,null,"4c87900f",null)),V=N.exports,q=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),e.apply(this,arguments)}return n}(C["c"]);Object(S["a"])([Object(C["b"])({type:String,default:""})],q.prototype,"id",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],q.prototype,"rules",void 0),Object(S["a"])([Object(C["b"])({type:String,default:"text"})],q.prototype,"type",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],q.prototype,"value",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],q.prototype,"label",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],q.prototype,"name",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],q.prototype,"placeholder",void 0),Object(S["a"])([Object(C["b"])({type:String,default:"on"})],q.prototype,"autocomplete",void 0),q=Object(S["a"])([Object(C["a"])({components:{VInputField:V}})],q);var D=q,H=D,U=(n("823b"),Object(o["a"])(H,E,$,!1,null,"1881b261",null)),G=U.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("validation-provider",{attrs:{name:t.name,rules:t.rules,tag:"div"}},[n("div",{staticClass:"inputFieldContainer"},[n("label",{staticClass:"labelText",attrs:{for:t.id}},[t._v(t._s(t.label))]),n("VInputField",{attrs:{id:t.id,type:"number",name:t.name,placeholder:t.placeholder,step:t.step,value:t.value,unit:t.unit,required:t.required,"floating-point":t.floatingPoint,pulse:t.pulse,temperature:t.temperature,spo2:t.spo2,"is-number":t.isNumber},on:{input:function(e){return t.$emit("input",e.target.value)}}})],1)])},Y=[],K=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),e.apply(this,arguments)}return n}(C["c"]);Object(S["a"])([Object(C["b"])({type:String,default:""})],K.prototype,"id",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],K.prototype,"rules",void 0),Object(S["a"])([Object(C["b"])({type:String,default:0})],K.prototype,"value",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],K.prototype,"label",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],K.prototype,"name",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],K.prototype,"placeholder",void 0),Object(S["a"])([Object(C["b"])({type:String,default:""})],K.prototype,"unit",void 0),Object(S["a"])([Object(C["b"])({type:Number,default:0})],K.prototype,"step",void 0),Object(S["a"])([Object(C["b"])({type:Boolean,default:!1})],K.prototype,"required",void 0),Object(S["a"])([Object(C["b"])({type:Boolean,default:!1})],K.prototype,"floatingPoint",void 0),Object(S["a"])([Object(C["b"])({type:Boolean,default:!1})],K.prototype,"pulse",void 0),Object(S["a"])([Object(C["b"])({type:Boolean,default:!1})],K.prototype,"temperature",void 0),Object(S["a"])([Object(C["b"])({type:Boolean,default:!1})],K.prototype,"spo2",void 0),K=Object(S["a"])([Object(C["a"])({components:{VInputField:V}})],K);var W=K,Z=W,Q=(n("1249"),Object(o["a"])(Z,J,Y,!1,null,"86671862",null)),X=Q.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toggleSwitchContainer"},[n("div",{staticClass:"labelText"},[t._v(t._s(t.label))]),n("div",{staticClass:"toggleSwitch"},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox",id:t.name},domProps:{checked:t.checked,value:t.value},on:{input:function(e){return t.$emit("input",e.target.checked,e.target.value)}}}),n("label",{staticClass:"switch",attrs:{for:t.name}})])])},et=[],nt=r["a"].extend({model:{prop:"checked",event:"input"},props:{name:{type:String,required:!0},label:{type:String,default:""},checked:{type:Boolean,default:!1},value:{type:String,default:""}}}),at=nt,rt=(n("287b"),Object(o["a"])(at,tt,et,!1,null,"37e38f6e",null)),st=rt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"footerButtonsList"},[n("li",{staticClass:"footerButtonsItem healthCenter",on:{click:function(e){return t.confirmToTel("healthCenter")}}},[n("PhoneIcon"),t._v(" 保健所へ電話 ")],1),n("li",{staticClass:"footerButtonsItem emergency",on:{click:function(e){return t.confirmToTel("emergency")}}},[n("PhoneIcon"),t._v(" 救急要請(119) ")],1)]),n("ConfirmModal",{attrs:{"is-open":t.isOpenConfirm},on:{click:function(e){t.isOpenConfirm=!1},"click-positive":function(e){return t.openTel(t.number)},"click-negative":function(e){t.isOpenConfirm=!1}}},[t._v(" "+t._s(t.confirmText)+" ")])],1)},ot=[],ct=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("path",{attrs:{d:"M23.316 16.96l-5.25-2.25a1.125 1.125 0 00-1.313.323l-2.325 2.84a17.375 17.375 0 01-8.306-8.306l2.84-2.325a1.122 1.122 0 00.324-1.312L7.036.68A1.133 1.133 0 005.747.028L.872 1.153A1.125 1.125 0 000 2.25C0 14.273 9.745 24 21.75 24a1.125 1.125 0 001.097-.872l1.125-4.875a1.139 1.139 0 00-.656-1.294z"}})])}),ut=[],lt={},pt=Object(o["a"])(lt,ct,ut,!1,null,null,null),dt=pt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isOpen?n("div",{staticClass:"confirmBackLayer",on:{click:function(e){return t.$emit("click")}}}):t._e(),t.isOpen?n("div",{staticClass:"confirmOverLayer"},[n("div",{staticClass:"confirmText"},[t._t("default")],2),n("ul",{staticClass:"confirmList"},[n("li",{staticClass:"confirmItem"},[n("ActionButton",{attrs:{theme:"primary",size:"L"},on:{click:t.handlePositiveButtonClick}},[t._v(" はい ")])],1),n("li",{staticClass:"confirmItem"},[n("ActionButton",{attrs:{theme:"disable",size:"L",text:"いいえ"},on:{click:t.handleNegativeButtonClick}},[t._v(" いいえ ")])],1)])]):t._e()])},ht=[],mt=r["a"].extend({components:{ActionButton:L},props:{isOpen:{type:Boolean,default:!1}},methods:{handlePositiveButtonClick:function(){this.$emit("click"),this.$emit("click-positive")},handleNegativeButtonClick:function(){this.$emit("click"),this.$emit("click-negative")}}}),bt=mt,vt=(n("dca6"),Object(o["a"])(bt,ft,ht,!1,null,"1d0dc4f2",null)),gt=vt.exports,yt=r["a"].extend({components:{PhoneIcon:dt,ConfirmModal:gt},data:function(){return{phoneItems:[{destination:"healthCenter",telNumber:"00-0000-0000",text:"担当保健所に電話しますか？"},{destination:"emergency",telNumber:"119",text:"119番に電話します。よろしいですか？"}],confirmText:"",number:"",isOpenConfirm:!1}},methods:{confirmToTel:function(t){var e=this.phoneItems.filter((function(e){if(e.destination===t)return!0}));this.confirmText=e[0].text,this.number=e[0].telNumber,this.isOpenConfirm=!0},openTel:function(t){window.open("tel:".concat(t),"_self")}}}),Ot=yt,jt=(n("2bc0"),Object(o["a"])(Ot,it,ot,!1,null,"63f8217d",null)),_t=jt.exports,kt=n("4bb5"),xt=Object(kt["a"])("Statuses"),St=Object(kt["a"])("Auth"),Ct=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.myDate=new Date,t.loading=!1,t.message="",t.symptomItems=[{name:"cough",label:"せき"},{name:"phlegm",label:"たん"},{name:"suffocation",label:"息苦しさ"},{name:"headache",label:"頭痛"},{name:"sore_throat",label:"のどの痛み"}],t.inputSpO2="",t.inputPulse="",t.inputTemperature="",t.selectedItems=[],t}return Object(_["a"])(n,[{key:"status",get:function(){return{SpO2:+this.inputSpO2,body_temperature:+this.inputTemperature,pulse:+this.inputPulse,symptom:{cough:!1,phlegm:!1,suffocation:!1,headache:!1,sore_throat:!1,remarks:""}}}},{key:"isSubmittable",get:function(){return this.status.body_temperature>0&&this.status.SpO2>0&&Number.isInteger(this.status.SpO2)&&this.status.pulse>0&&Number.isInteger(this.status.pulse)}},{key:"btnTheme",get:function(){return this.isSubmittable?"primary":"disable"}},{key:"itemSelectControl",value:function(t,e){this.status.symptom[e]=t}},{key:"submitRecord",value:function(){var t=this;this.isSubmittable&&(this.loading=!0,this.create(this.status).then((function(e){t.$router.push({name:"Detail",params:{statusId:e.statusId,message:"体調記録を登録しました"}})}),(function(e){t.loading=!1,t.message=e})))}},{key:"logout",value:function(){this.signOut(),this.$router.push("/login")}}]),n}(C["c"]);Object(S["a"])([St.Action],Ct.prototype,"signOut",void 0),Object(S["a"])([xt.Action],Ct.prototype,"create",void 0),Ct=Object(S["a"])([Object(C["a"])({components:{ActionButton:L,InputTextField:G,InputNumberField:X,ToggleSwitch:st,FooterButtons:_t}})],Ct);var wt=Ct,It=wt,At=(n("d0ef"),Object(o["a"])(It,y,O,!1,null,"4dee2296",null)),Tt=At.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"headerButtonContainer"},[n("ActionButton",{attrs:{size:"S",theme:"text","is-inline":!0,to:"/record"}},[n("AngleLeftIcon")],1),n("ActionButton",{attrs:{size:"S",theme:"outline","is-inline":!0,to:"/record"}},[t._v(" 体調を記録する ")])],1),n("h1",{staticClass:"title"},[t._v(t._s(t.date))]),t.isError?n("Message",{attrs:{"is-error":""}},[t._v(" 症状の悪化がみられます。"),n("br"),t._v(" 必ず保健所に電話してください。 ")]):n("Message",[t._v(" 体調記録を登録しました。 ")]),n("StatusInfo",{attrs:{status:t.status}}),n("DeleteRecord",{attrs:{"status-id":t.status.statusId}}),n("FooterButtons")],1)},Pt=[],Lt=n("5a0c"),Et=n.n(Lt),$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{width:"11",height:"16",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("path",{attrs:{d:"M.352 7.15L7.15.352c.47-.47 1.23-.47 1.694 0l1.13 1.13c.47.47.47 1.23 0 1.695L5.155 7.995l4.819 4.818c.47.47.47 1.23 0 1.695l-1.125 1.14c-.47.47-1.23.47-1.694 0L.357 8.85a1.196 1.196 0 01-.005-1.7z"}})])},Ft=[],Mt={},Rt=Object(o["a"])(Mt,$t,Ft,!1,null,null,null),zt=Rt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dl",{staticClass:"statusInfoList"},[n("div",{staticClass:"statusInfoInner"},[n("dt",[t._v("体温")]),n("dd",[t._v(t._s(t.status.body_temperature.toFixed(1))+"℃")])]),n("div",{staticClass:"statusInfoInner"},[n("dt",[t._v("酸素飽和度(SpO2)")]),n("dd",[t._v(t._s(t.status.SpO2)+"％")])]),n("div",{staticClass:"statusInfoInner"},[n("dt",[t._v("脈拍")]),n("dd",[t._v(t._s(t.status.pulse))])]),n("div",{staticClass:"statusInfoInner symptomsInfo"},[n("dt",{staticClass:"symptomsTitle"},[t._v("症状")]),n("dd",[n("div",[t.status.symptom.cough?n("span",{staticClass:"symptom"},[t._v("せき")]):t._e(),t.status.symptom.phlegm?n("span",{staticClass:"symptom"},[t._v("たん")]):t._e(),t.status.symptom.suffocation?n("span",{staticClass:"symptom"},[t._v("息苦しさ")]):t._e(),t.status.symptom.headache?n("span",{staticClass:"symptom"},[t._v("頭痛")]):t._e(),t.status.symptom.sore_throat?n("span",{staticClass:"symptom"},[t._v("喉の痛み")]):t._e()]),n("div",{staticClass:"symptomRemarks"},[t._v(t._s(t.status.symptom.remarks))])])])])},Vt=[],qt=r["a"].extend({props:{status:{type:Object,default:function(){return{statusId:"",patientId:"",centerId:"",created:"",SpO2:0,body_temperature:0,pulse:0,symptom:{symptomId:"",cough:!1,phlegm:!1,suffocation:!1,headache:!1,sore_throat:!1,remarks:""}}}}}}),Dt=qt,Ht=(n("7757"),Object(o["a"])(Dt,Nt,Vt,!1,null,"14cb6c50",null)),Ut=Ht.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"deleteRecordTextContainer"},[n("span",{staticClass:"deleteRecordText",on:{click:function(e){t.isOpenConfirm=!0}}},[t._v(" この記録を削除する ")]),t.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")]):t._e()]),n("ConfirmModal",{attrs:{"is-open":t.isOpenConfirm},on:{click:function(e){t.isOpenConfirm=!1},"click-positive":function(e){return t.deleteStatus()},"click-negative":function(e){t.isOpenConfirm=!1}}},[t._v(" この記録を削除してもよろしいですか？ ")])],1)},Jt=[],Yt=Object(kt["a"])("Statuses"),Kt=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.isOpenConfirm=!1,t.message="",t}return Object(_["a"])(n,[{key:"deleteStatus",value:function(){var t=this;this.delete({patientId:this.patientId,statusId:this.statusId}).then((function(e){!0===e?t.$router.push("/history"):t.message="削除に失敗しました。".concat(e)}))}}]),n}(C["c"]);Object(S["a"])([Object(C["b"])()],Kt.prototype,"statusId",void 0),Object(S["a"])([Object(C["b"])()],Kt.prototype,"patientId",void 0),Object(S["a"])([Yt.Action],Kt.prototype,"delete",void 0),Kt=Object(S["a"])([Object(C["a"])({components:{ConfirmModal:gt}})],Kt);var Wt=Kt,Zt=Wt,Qt=(n("8fc5"),Object(o["a"])(Zt,Gt,Jt,!1,null,"455d3783",null)),Xt=Qt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message",class:"type"+t.messageType},[t._t("default")],2)},ee=[],ne=r["a"].extend({props:{isError:{type:Boolean,default:!1}},computed:{messageType:function(){return this.isError?"Error":"Normal"}}}),ae=ne,re=(n("e047"),Object(o["a"])(ae,te,ee,!1,null,"664bfa93",null)),se=re.exports,ie=r["a"].extend({components:{AngleLeftIcon:zt,ActionButton:L,StatusInfo:Ut,DeleteRecord:Xt,FooterButtons:_t,Message:se},data:function(){return{status:{statusId:"string",patientId:"string",centerId:"string",created:"2021-01-11T13:06:25.212Z",SpO2:98,body_temperature:37,pulse:81,symptom:{symptomId:"string",cough:!0,phlegm:!0,suffocation:!0,headache:!0,sore_throat:!0,remarks:"昨日の20時ごろから咳が止まらない。"}}}},computed:{date:{get:function(){return Et()(this.status.created).format("YYYY/MM/DD HH:mm")}},isError:function(){return!1}}}),oe=ie,ce=(n("fb24"),Object(o["a"])(oe,Bt,Pt,!1,null,"00e5d5a4",null)),ue=ce.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"headerButtonContainer"},[n("ActionButton",{attrs:{size:"S",theme:"text","is-inline":!0,to:"/record"}},[n("AngleLeftIcon")],1),n("ActionButton",{attrs:{size:"S",theme:"outline","is-inline":!0,to:"/record"}},[t._v(" 体調を記録する ")])],1),n("header",{staticClass:"header"},[n("h1",{staticClass:"headerTitle"},[t._v("体調記録")]),n("ListOrGraphSwitch",{model:{value:t.displayMode,callback:function(e){t.displayMode=e},expression:"displayMode"}})],1),"list"===t.displayMode?n("HistoryTable",{attrs:{items:t.statuses}}):t._e(),"graph"===t.displayMode?n("HistoryGraph",{attrs:{items:t.statuses}}):t._e(),n("FooterButtons")],1)},pe=[],de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"radioSwitchContainer"},t._l(t.items,(function(e,a){return n("div",{key:a},[n("input",{staticClass:"radio",attrs:{type:"radio",id:e.id,name:"listOrGraph"},domProps:{value:e.value,checked:t.checked===e.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),n("label",{staticClass:"label",attrs:{for:e.id}},[n(e.icon,{tag:"svg"}),n("span",{staticClass:"labelText"},[t._v(t._s(e.text))])],1)])})),0)},fe=[],he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{viewBox:"0 0 24 20",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("path",{attrs:{d:"M3.75 15h-3a.75.75 0 00-.75.75v3a.75.75 0 00.75.75h3a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75zm0-15h-3A.75.75 0 000 .75v3a.75.75 0 00.75.75h3a.75.75 0 00.75-.75v-3A.75.75 0 003.75 0zm0 7.5h-3a.75.75 0 00-.75.75v3a.75.75 0 00.75.75h3a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75zm19.5 8.25h-15a.75.75 0 00-.75.75V18a.75.75 0 00.75.75h15A.75.75 0 0024 18v-1.5a.75.75 0 00-.75-.75zm0-15h-15a.75.75 0 00-.75.75V3a.75.75 0 00.75.75h15A.75.75 0 0024 3V1.5a.75.75 0 00-.75-.75zm0 7.5h-15A.75.75 0 007.5 9v1.5a.75.75 0 00.75.75h15a.75.75 0 00.75-.75V9a.75.75 0 00-.75-.75z"}})])},me=[],be={},ve=Object(o["a"])(be,he,me,!1,null,null,null),ge=ve.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{viewBox:"0 0 24 18",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("path",{attrs:{d:"M23.438 15c.309 0 .562.253.562.563v1.874c0 .31-.253.563-.563.563H.563A.564.564 0 010 17.437V.563C0 .254.253 0 .563 0h1.875C2.747 0 3 .253 3 .563V15h20.438zM17.47 4.477L13.5 7.125l-3.998-5.33a.563.563 0 00-.933.047L4.5 8.625V13.5h18l-4.214-8.803a.563.563 0 00-.816-.22z"}})])},Oe=[],je={},_e=Object(o["a"])(je,ye,Oe,!1,null,null,null),ke=_e.exports,xe=r["a"].extend({model:{prop:"checked",event:"input"},components:{ListIcon:ge,ChartAreaIcon:ke},props:{checked:{type:String,default:""}},data:function(){return{items:[{id:"radioList",value:"list",text:"リスト",icon:ge},{id:"radioGraph",value:"graph",text:"グラフ",icon:ke}]}}}),Se=xe,Ce=(n("08e8"),Object(o["a"])(Se,de,fe,!1,null,"1c4ef2bb",null)),we=Ce.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"historyTable"},[t._m(0),n("tbody",t._l(this.items,(function(e,a){return n("tr",{key:a,staticClass:"historyRow"},[n("td",{staticClass:"historyCell date alignLeft"},[t._v(t._s(t.getDate(e.created)))]),n("td",{staticClass:"historyCell"},[t._v(t._s(e.body_temperature.toFixed(1)))]),n("td",{staticClass:"historyCell"},[t._v(t._s(e.SpO2))]),n("td",{staticClass:"historyCell"},[t._v(t._s(e.pulse))]),n("td",{staticClass:"historyCell"},[n("ActionButton",{attrs:{size:"S",theme:"text","is-inline":!0,to:"/detail/"+e.statusId}},[n("AngleRightIcon")],1)],1)])})),0)])},Ae=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"historyRow historyHeader"},[n("th",{staticClass:"historyCell alignLeft"},[t._v("記録日時")]),n("th",{staticClass:"historyCell"},[t._v("体温")]),n("th",{staticClass:"historyCell"},[t._v("SpO2")]),n("th",{staticClass:"historyCell"},[t._v("脈拍")]),n("th",{staticClass:"historyCell"})])])}],Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{width:"10",height:"17",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("path",{attrs:{d:"M8.764 9.274l-5.914 6.96c-.409.482-1.07.482-1.474 0l-.983-1.156c-.408-.48-.408-1.259 0-1.735L4.585 8.41.393 3.476c-.408-.482-.408-1.26 0-1.735L1.372.574c.409-.482 1.07-.482 1.474 0l5.914 6.96c.413.481.413 1.26.004 1.74z"}})])},Be=[],Pe={},Le=Object(o["a"])(Pe,Te,Be,!1,null,null,null),Ee=Le.exports,$e=r["a"].extend({components:{AngleRightIcon:Ee,ActionButton:L},props:{items:{type:Array,default:[]}},methods:{getDate:function(t){return Et()(t).format("M/D (ddd) HH:mm")}}}),Fe=$e,Me=(n("ae51"),Object(o["a"])(Fe,Ie,Ae,!1,null,"42487cd0",null)),Re=Me.exports,ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"history-graph"},[n("VueApexCharts",{attrs:{type:"line",height:"350px",options:t.chartOptions,series:t.series}})],1)},Ne=[],Ve=(n("d81d"),n("b680"),n("1321")),qe=n.n(Ve),De=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),e.apply(this,arguments)}return Object(_["a"])(n,[{key:"chartOptions",get:function(){return{chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1},animations:{enabled:!1}},legend:{position:"top",horizontalAlign:"left",inverseOrder:!0},colors:["#FF8000","#03AF7A","#05A"],stroke:{curve:"straight",width:2},xaxis:{type:"datetime",title:{text:"日付"},labels:{show:!0,rotate:-30,rotateAlways:!0,formatter:function(t){return Et()(t).format("M/D (ddd) HH:mm")}},tooltip:{enabled:!1}},tooltip:{x:{formatter:function(t){return Et()(t).format("M/D (ddd) HH:mm")}}},yaxis:[{seriesName:"脈拍",decimalsInFloat:0,labels:{style:{colors:"#FF8000"}},min:30,max:150,crosshairs:{show:!0,position:"back"},tooltip:{enabled:!0}},{seriesName:"体温",decimalsInFloat:1,labels:{style:{colors:"#03AF7A"}},min:34,max:40,crosshairs:{show:!0,position:"back"},tooltip:{enabled:!0}},{seriesName:"SpO2",decimalsInFloat:0,labels:{style:{colors:"#05A"}},min:90,max:100,crosshairs:{show:!0,position:"back"},tooltip:{enabled:!0}}]}}},{key:"series",get:function(){var t=this.items.map((function(t){return{x:t.created,y:t.body_temperature.toFixed(1)}})),e=this.items.map((function(t){return{x:t.created,y:t.SpO2.toFixed(1)}})),n=this.items.map((function(t){return{x:t.created,y:t.pulse.toFixed(1)}}));return console.log(this.items,t),[{name:"脈拍",data:n},{name:"体温",data:t},{name:"SpO2",data:e}]}}]),n}(C["c"]);Object(S["a"])([Object(C["b"])({type:Array,default:[]})],De.prototype,"items",void 0),De=Object(S["a"])([Object(C["a"])({components:{VueApexCharts:qe.a}})],De);var He=De,Ue=He,Ge=(n("ce6d"),Object(o["a"])(Ue,ze,Ne,!1,null,"766f5f0a",null)),Je=Ge.exports,Ye=Object(kt["a"])("Statuses"),Ke=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.displayMode="list",t.statuses=[],t}return Object(_["a"])(n,[{key:"created",value:function(){var t=this;this.load().then((function(e){t.statuses=e}))}}]),n}(C["c"]);Object(S["a"])([Ye.Action],Ke.prototype,"load",void 0),Object(S["a"])([Ye.Getter],Ke.prototype,"getStatuses",void 0),Ke=Object(S["a"])([Object(C["a"])({components:{AngleLeftIcon:zt,ActionButton:L,ListOrGraphSwitch:we,HistoryTable:Re,FooterButtons:_t,HistoryGraph:Je}})],Ke);var We=Ke,Ze=We,Qe=(n("5503"),Object(o["a"])(Ze,le,pe,!1,null,"22c1e8f6",null)),Xe=Qe.exports,tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("div",{staticClass:"headerButtonContainer"},[n("ActionButton",{attrs:{size:"S",theme:"text","is-inline":!0,to:"/history"}},[n("AngleLeftIcon")],1),n("ActionButton",{attrs:{size:"S",theme:"outline","is-inline":!0,to:"/record"}},[t._v(" 体調を記録する ")])],1),t.showmessage?n("div",{staticClass:"message"},[t._v(t._s(t.showmessage))]):t._e(),n("h1",{staticClass:"title"},[t._v(t._s(t.date))]),t.status?[n("StatusInfo",{attrs:{status:t.status}}),n("DeleteRecord",{attrs:{patientId:t.status.patientId,statusId:t.statusId}})]:t._e(),n("FooterButtons")],2)},en=[],nn=Object(kt["a"])("Statuses"),an=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.error="",t}return Object(_["a"])(n,[{key:"showmessage",get:function(){return this.message}},{key:"date",get:function(){return this.status?Et()(this.status.created).format("YYYY/M/D (ddd) HH:mm"):""}},{key:"status",get:function(){var t=this;return this.getStatuses.length>0?this.getStatuses.find((function(e){return e.statusId===t.statusId})):void this.load().then((function(e){return e.find((function(e){return e.statusId===t.statusId}))}))}}]),n}(C["c"]);Object(S["a"])([Object(C["b"])()],an.prototype,"statusId",void 0),Object(S["a"])([Object(C["b"])()],an.prototype,"message",void 0),Object(S["a"])([nn.Getter],an.prototype,"getStatuses",void 0),Object(S["a"])([nn.Action],an.prototype,"load",void 0),an=Object(S["a"])([Object(C["a"])({components:{AngleLeftIcon:zt,ActionButton:L,StatusInfo:Ut,DeleteRecord:Xt,FooterButtons:_t}})],an);var rn=an,sn=rn,on=(n("745f"),Object(o["a"])(sn,tn,en,!1,null,"2e9f6529",null)),cn=on.exports,un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("利用規約")]),t.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")]):t._e(),n("div",{staticClass:"termsContainer"},[t._m(0),n("div",{staticClass:"margin"},[n("VCheckbox",{attrs:{name:"policy"},model:{value:t.isCheckedPolicy,callback:function(e){t.isCheckedPolicy=e},expression:"isCheckedPolicy"}},[t._v(" 利用規約に同意する ")])],1),n("ActionButton",{staticClass:"linkBtn",attrs:{size:"L",theme:t.btnTheme,"is-submittable":t.isSubmittable},on:{click:t.handlePolicy}},[t._v(" 体調記録へ ")])],1)])},ln=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" 利用規約文"),n("br"),n("br"),t._v(" テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。 ")])}],pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{staticClass:"checkbox",attrs:{id:t.name,type:"checkbox"},domProps:{checked:t.checked,value:t.value},on:{input:function(e){return t.$emit("input",e.target.checked,e.target.value)}}}),n("label",{staticClass:"label",attrs:{for:t.name}},[t._t("default")],2)])},dn=[],fn=r["a"].extend({model:{prop:"checked",event:"input"},props:{name:{type:String,required:!0},checked:{type:Boolean,default:!1},value:{type:String,default:""}}}),hn=fn,mn=(n("1ab3"),Object(o["a"])(hn,pn,dn,!1,null,"a946fe56",null)),bn=mn.exports,vn=Object(kt["a"])("Auth"),gn=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.message="",t.isCheckedPolicy=!1,t}return Object(_["a"])(n,[{key:"isSubmittable",get:function(){return this.isCheckedPolicy}},{key:"btnTheme",get:function(){return this.isSubmittable?"primary":"disable"}},{key:"handlePolicy",value:function(){var t=this;this.isCheckedPolicy?this.acceptPolicy().then((function(){t.$router.push("/record")}),(function(e){t.message="ログインできませんでした。".concat(e)})):this.message="利用規約に同意していません。"}}]),n}(C["c"]);Object(S["a"])([vn.Action],gn.prototype,"acceptPolicy",void 0),gn=Object(S["a"])([Object(C["a"])({components:{ActionButton:L,VCheckbox:bn}})],gn);var yn=gn,On=yn,jn=(n("fffc"),Object(o["a"])(On,un,ln,!1,null,"7469a44c",null)),_n=jn.exports,kn=[{path:"/record",name:"Record",component:Tt},{path:"/registered",name:"Registered",component:ue},{path:"/history",name:"History",component:Xe},{path:"/detail/:statusId",name:"Detail",props:!0,component:cn},{path:"/terms",name:"Terms",component:_n}];kn.forEach((function(t,e){Object.assign(kn[e],{meta:{requiresAuth:!0}})}));var xn=kn,Sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homeContainer"},[n("h1",{staticClass:"title"},[t._v("遠隔療養者モニタリングシステム")]),n("Logo",{staticClass:"logoImage"}),n("ActionButton",{attrs:{size:"L",theme:"primary",to:"/login"}},[t._v(" ログイン ")])],1)},Cn=[],wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{width:"128",height:"128",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("circle",{attrs:{cx:"64",cy:"64",r:"64",fill:"#fff"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M51.35 50.227a2.204 2.204 0 00-3.956.006L34.73 76.051l-5.153-10.464a8.171 8.171 0 002.83-6.192c0-4.525-3.673-8.194-8.204-8.194-4.53 0-8.204 3.669-8.204 8.194 0 4.526 3.673 8.195 8.204 8.195.474 0 .938-.04 1.39-.118l7.04 14.298a2.205 2.205 0 002.1 1.227c.858.047 1.701-.412 2.102-1.23L49.382 56.19l12.633 25.564a2.201 2.201 0 002.87 1.06 2.2 2.2 0 001.104-1.066L78.523 56.19l12.643 25.582a2.205 2.205 0 002.1 1.225 2.205 2.205 0 002.1-1.227l7.04-14.297a8.26 8.26 0 001.39.117c4.531 0 8.204-3.669 8.204-8.195 0-4.525-3.673-8.194-8.204-8.194-4.531 0-8.204 3.669-8.204 8.194a8.171 8.171 0 002.83 6.192l-5.16 10.478-12.77-25.838a2.204 2.204 0 00-3.955.006L63.992 75.809 51.35 50.227zM24.204 63.676a4.283 4.283 0 004.286-4.28 4.283 4.283 0 00-4.286-4.281 4.283 4.283 0 00-4.286 4.28 4.283 4.283 0 004.286 4.281zm83.878-4.28a4.283 4.283 0 01-4.286 4.28 4.283 4.283 0 01-4.286-4.28 4.283 4.283 0 014.286-4.281 4.283 4.283 0 014.286 4.28z",fill:"url(#paint0_linear)"}}),n("defs",[n("linearGradient",{attrs:{id:"paint0_linear",x1:"21.161",y1:"83",x2:"107.871",y2:"83",gradientUnits:"userSpaceOnUse"}},[n("stop",{attrs:{"stop-color":"#05A"}}),n("stop",{attrs:{offset:"1","stop-color":"#03AF7A"}})],1)],1)])},In=[],An={},Tn=Object(o["a"])(An,wn,In,!1,null,null,null),Bn=Tn.exports,Pn=r["a"].extend({components:{ActionButton:L,Logo:Bn}}),Ln=Pn,En=(n("31cb"),Object(o["a"])(Ln,Sn,Cn,!1,null,"e7cb64a6",null)),$n=En.exports,Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("ログイン")]),n("form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")]):t._e(),t.showForm?n("div",[n("InputTextField",{attrs:{id:"phone",label:"携帯電話番号",name:"phone",value:"inputPhone",rules:"required"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("ActionButton",{attrs:{size:"L",theme:t.btnTheme,"is-submittable":t.isSubmittable},on:{click:t.handleLoginURL}},[t._v(" ログインURLを取得する ")])],1):t._e()])])},Mn=[],Rn=Object(kt["a"])("Auth"),zn=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.phone="",t.message="",t.showForm=!1,t}return Object(_["a"])(n,[{key:"created",value:function(){var t=this;this.isLoggedIn&&(this.isExpired?this.refreshToken().then((function(){t.isPolicyAccepted?t.$router.push("/terms"):t.$router.push("/record")})):this.$router.push("/record")),this.k?(console.log(this.k),this.handleLogin(this.k)):this.showForm=!0}},{key:"isSubmittable",get:function(){return""!=this.phone}},{key:"btnTheme",get:function(){return this.isSubmittable?"primary":"disable"}},{key:"handleLogin",value:function(t){var e=this;this.login(t).then((function(t){t.policy_accepted?e.$router.push("/record"):e.$router.push("/terms")}),(function(t){e.message="ログインできませんでした。".concat(t),e.showForm=!0}))}},{key:"handleLoginURL",value:function(){var t=this;this.sendLoginURL(this.phone).then((function(e){e.success?(console.log(e.loginKey),t.message="入力された電話番号にURLを送りました。ご確認ください。",t.showForm=!1):t.message="入力された電話番号はシステムに登録されていません。保健所にご確認ください。"})).catch((function(e){console.log(e),t.message="入力された電話番号はシステムに登録されていません。保健所にご確認ください。"}))}}]),n}(C["c"]);Object(S["a"])([Object(C["b"])()],zn.prototype,"k",void 0),Object(S["a"])([Rn.Getter],zn.prototype,"isLoggedIn",void 0),Object(S["a"])([Rn.Getter],zn.prototype,"isPolicyAccepted",void 0),Object(S["a"])([Rn.Getter],zn.prototype,"isExpired",void 0),Object(S["a"])([Rn.Action],zn.prototype,"login",void 0),Object(S["a"])([Rn.Action],zn.prototype,"sendLoginURL",void 0),Object(S["a"])([Rn.Action],zn.prototype,"refreshToken",void 0),zn=Object(S["a"])([Object(C["a"])({components:{InputTextField:G,ActionButton:L}})],zn);var Nn=zn,Vn=Nn,qn=(n("6eff"),Object(o["a"])(Vn,Fn,Mn,!1,null,"bf5e4d86",null)),Dn=qn.exports,Hn=[{path:"/",name:"Home",component:$n},{path:"/login",name:"Login",component:Dn},{path:"/login/:k",name:"Login",props:!0,component:Dn}],Un=Hn,Gn=(n("1276"),n("25f0"),n("6fc5")),Jn=function(){function t(){Object(j["a"])(this,t)}return Object(_["a"])(t,[{key:"login",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("initialize",{loginKey:e});case 2:if(n=t.sent,!n.data.idToken){t.next=7;break}localStorage.setItem("user",JSON.stringify(n.data)),t.next=8;break;case 7:throw new Error("ログインに失敗しました。");case 8:return t.abrupt("return",n.data);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendLoginURL",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("getloginurl",{phone:e});case 2:if(n=t.sent,!n.data.phone){t.next=7;break}return t.abrupt("return",{success:!0,loginKey:n.data.loginKey});case 7:throw new Error("ログインに失敗しました。");case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loginWithToken",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.getUserId(e),t.next=3,b.a.get("patients/".concat(n));case 3:if(a=t.sent,!a.data.idToken){t.next=8;break}localStorage.setItem("user",JSON.stringify(a.data)),t.next=9;break;case 8:throw new Error("ログインに失敗しました。");case 9:return t.abrupt("return",a.data);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refreshToken",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,b.a.post("login",{refreshToken:e});case 3:if(n=t.sent,!n.data.idToken){t.next=13;break}if(a=localStorage.getItem("user"),a){t.next=8;break}throw new Error("usre item was not found");case 8:r=JSON.parse(a),r.idToken=n.data.idToken,localStorage.setItem("user",JSON.stringify(r)),t.next=14;break;case 13:throw new Error("ログインに失敗しました。");case 14:return t.abrupt("return",n.data);case 15:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getUserId",value:function(t){var e=atob(t.split(".")[1]);return JSON.parse(e)["cognito:username"]}}]),t}(),Yn=new Jn;n("99af");function Kn(){var t=localStorage.getItem("user"),e=JSON.parse(t||"");return e&&e.idToken?{Authorization:e.idToken}:{}}var Wn=function(){function t(){Object(j["a"])(this,t)}return Object(_["a"])(t,[{key:"getUserInfo",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("patients/".concat(this.getUserId()),{headers:Kn()});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getStatuses",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("patients/".concat(this.getUserId(),"/statuses"),{headers:Kn()});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getUserId",value:function(){var t=localStorage.getItem("user");if(!t)return null;var e=JSON.parse(t).idToken,n=atob(e.split(".")[1]);return JSON.parse(n)["cognito:username"]}},{key:"postAcceptPolicy",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("patients/".concat(this.getUserId(),"/accept_policy"),{},{headers:Kn()});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"postStatus",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("patients/".concat(this.getUserId(),"/statuses"),e,{headers:Kn()});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"deleteStatus",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("patients/".concat(e,"/statuses/").concat(n),{headers:Kn()});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),Zn=new Wn,Qn=localStorage.getItem("user"),Xn=function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.status=Qn?{loggedIn:!0}:{loggedIn:!1},t.user=Qn?JSON.parse(Qn):null,t}return Object(_["a"])(n,[{key:"isLoggedIn",get:function(){return!!this.status.loggedIn&&!this.isExpired}},{key:"isExpired",get:function(){var t,e;if(!this.user)return!0;if(null===(t=this.user)||void 0===t||!t.idToken)return!0;var n=null===(e=this.user)||void 0===e?void 0:e.idToken,a=n.split(".")[1],r=JSON.parse(atob(a));return new Date>new Date(1e3*r.exp)}},{key:"isPolicyAccepted",get:function(){var t;return void 0!==(null===(t=this.user)||void 0===t?void 0:t.policy_accepted)}},{key:"loginSuccess",value:function(t){this.status.loggedIn=!0,this.user=t}},{key:"loginFailure",value:function(){this.status.loggedIn=!1,this.user=null}},{key:"logout",value:function(){this.status.loggedIn=!1,this.user=null}},{key:"login",value:function(t){var e=this;return Yn.login(t).then((function(t){return e.context.commit("loginSuccess",t),Promise.resolve(t)}),(function(t){e.context.commit("loginFailure");var n=t.response&&t.response.data&&t.response.data.errorMessage||t.message||t.toString();return Promise.reject(n)}))}},{key:"loginWithToken",value:function(t){var e=this;return Yn.loginWithToken(t).then((function(t){return e.context.commit("loginSuccess",t),Promise.resolve(t)}),(function(t){e.context.commit("loginFailure");var n=t.response&&t.response.data&&t.response.data.errorMessage||t.message||t.toString();return Promise.reject(n)}))}},{key:"refreshToken",value:function(){var t,e=this,n=(null===(t=this.user)||void 0===t?void 0:t.refreshToken)||"";return Yn.refreshToken(n).then((function(t){return e.context.commit("loginSuccess",t),Promise.resolve(t)}),(function(t){e.context.commit("loginFailure");var n=t.response&&t.response.data&&t.response.data.errorMessage||t.message||t.toString();return Promise.reject(n)}))}},{key:"signOut",value:function(){Yn.logout(),this.context.commit("logout")}},{key:"acceptPolicy",value:function(){return Zn.postAcceptPolicy().then((function(t){return Promise.resolve(t)}),(function(t){var e=t.response&&t.response.data&&t.response.data.errorMessage||t.message||t.toString();return Promise.reject(e)}))}}]),n}(Gn["d"]);Object(S["a"])([Gn["c"]],Xn.prototype,"loginSuccess",null),Object(S["a"])([Gn["c"]],Xn.prototype,"loginFailure",null),Object(S["a"])([Gn["c"]],Xn.prototype,"logout",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],Xn.prototype,"login",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],Xn.prototype,"loginWithToken",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],Xn.prototype,"refreshToken",null),Object(S["a"])([Gn["a"]],Xn.prototype,"signOut",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],Xn.prototype,"acceptPolicy",null),Xn=Object(S["a"])([Object(Gn["b"])({namespaced:!0})],Xn);var ta=Xn,ea=(n("a434"),n("c740"),function(t){Object(k["a"])(n,t);var e=Object(x["a"])(n);function n(){var t;return Object(j["a"])(this,n),t=e.apply(this,arguments),t.statuses=[],t}return Object(_["a"])(n,[{key:"getStatuses",get:function(){return this.statuses}},{key:"loadSuccess",value:function(t){this.statuses=t}},{key:"pushStatus",value:function(t){this.statuses.push(t)}},{key:"removeStatus",value:function(t){this.statuses.splice(this.statuses.findIndex((function(e){return e.statusId===t})),1)}},{key:"loadFailure",value:function(){this.statuses=[]}},{key:"load",value:function(){var t=this;return Zn.getStatuses().then((function(e){return t.context.commit("loadSuccess",e),Promise.resolve(e)}),(function(e){t.context.commit("loginFailure");var n=e.response&&e.response.data&&e.response.data.errorMessage||e.message||e.toString();return Promise.reject(n)}))}},{key:"create",value:function(t){var e=this;return Zn.postStatus(t).then((function(t){return e.context.commit("pushStatus",t),Promise.resolve(t)}),(function(t){var e=t.response&&t.response.data&&t.response.data.errorMessage||t.message||t.toString();return Promise.reject(e)}))}},{key:"delete",value:function(t){var e=this;return Zn.deleteStatus(t.patientId,t.statusId).then((function(){return e.context.commit("removeStatus",t.statusId),Promise.resolve(!0)}),(function(t){var e=t.response&&t.response.data&&t.response.data.errorMessage||t.message||t.toString();return Promise.reject(e)}))}}]),n}(Gn["d"]));Object(S["a"])([Gn["c"]],ea.prototype,"loadSuccess",null),Object(S["a"])([Gn["c"]],ea.prototype,"pushStatus",null),Object(S["a"])([Gn["c"]],ea.prototype,"removeStatus",null),Object(S["a"])([Gn["c"]],ea.prototype,"loadFailure",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],ea.prototype,"load",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],ea.prototype,"create",null),Object(S["a"])([Object(Gn["a"])({rawError:!0})],ea.prototype,"delete",null),ea=Object(S["a"])([Object(Gn["b"])({namespaced:!0})],ea);var na=ea;r["a"].use(h["a"]);var aa=new h["a"].Store({state:{},mutations:{},actions:{},modules:{Auth:ta,Statuses:na}});r["a"].use(g["a"]);var ra=new g["a"]({mode:"hash",base:"/"});ra.addRoutes(xn),ra.addRoutes(Un),ra.beforeEach(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e,n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=localStorage.getItem("user"),e.matched.some((function(t){return t.meta.requiresAuth}))?r?aa.getters["Auth/isExpired"]?aa.dispatch("Auth/refreshToken").then((function(){a()})).catch((function(t){console.log(t),a("/login")})):a():a("/login"):a();case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}());var sa=ra;n("e008"),n("5999");Et.a.locale("ja"),b.a.defaults.baseURL="https://monitoring.stopcovid19.jp/stg/api/patient/",r["a"].component("ValidationProvider",d["a"]),r["a"].config.productionTip=!1,Object(d["b"])("required",Object(a["a"])(Object(a["a"])({},f["a"]),{},{message:"This field is required"})),new r["a"]({router:sa,store:aa,computed:Object(h["e"])(["user","statuses"]),render:function(t){return t(l)}}).$mount("#app")},ce6d:function(t,e,n){"use strict";n("baeb")},d0ef:function(t,e,n){"use strict";n("6a81")},d53e:function(t,e,n){},dca6:function(t,e,n){"use strict";n("c80c")},e008:function(t,e,n){},e047:function(t,e,n){"use strict";n("29ac")},e343:function(t,e,n){},e522:function(t,e,n){},f9af:function(t,e,n){"use strict";n("376c")},fb24:function(t,e,n){"use strict";n("3765")},fdc2:function(t,e,n){},fffc:function(t,e,n){"use strict";n("99ae")}});
//# sourceMappingURL=app.a4f18ecb.js.map